{% from "admin/_input.html" import input %}

{% extends "base.html" %}

{% block content %}

<h1>edit posts</h1>

<p>
{{ post_id }}
</p>

<form action="{{ url_for('admin.upload') }}" method="post" enctype="multipart/form-data">
  <fieldset class="uk-fieldset uk-flex">
    <input class="upload-button" type=file name=file>
    <input class="uk-button" type=submit value=Upload>
  </fieldset>
</form>

<form name="edit" action="" method="post" accept-charset="utf-8">

  {{ form.hidden_tag() }}


  <fieldset class="uk-fieldset uk-flex">

    {{ input(form.title, size=24, placeholder="A New Post") }} 
    {{ input(form.slug, size=16, placeholder="a-new-post") }} 

  </fieldset>

  <fieldset class="uk-fieldset uk-flex">
    
    {{ input(form.pub_date, size=8, placeholder="12/01/17") }} 
    {{ input(form.category, size=16) }} 
    {{ input(form.tags, size=16, placeholder="tag1, tag2, tag3") }} 

  </fieldset>

  {{ form.draft.label }}
  {{ form.draft(class="uk-checkbox") }}
  {% for error in form.draft.errors %}
    <div style="color: red;"> {{ error }} </div>
  {% endfor %}

  <!-- PREVIEW button -->
  <!-- save post and open current post in new tab -->
  <div class="uk-flex">
  <button class="uk-button uk-button-secondary uk-button-small" onclick='alert("hi"); return false;'>Preview</button>

  {{ form.submit(class="uk-button uk-button-primary") }}
  </div>

  {{ form.content.label(style="display:none") }}
  <div id="editor">
  {{ form.content(id="editor", cols=50, rows=10, placeholder='Write your next awesome post...' ) }}
  </div>
  {% for error in form.content.errors %}
    <div style="color: red;"> {{ error }} </div>
  {% endfor %}

</form>




{% endblock %}

{% block javascript %}
<link rel="stylesheet" href="//cdn.jsdelivr.net/editor/0.1.0/editor.css">
<script src="//cdn.jsdelivr.net/editor/0.1.0/editor.js"></script>
<script src="//cdn.jsdelivr.net/editor/0.1.0/marked.js"></script>
<script>
var editor = new Editor();
editor.render();
</script>

{% endblock %}
